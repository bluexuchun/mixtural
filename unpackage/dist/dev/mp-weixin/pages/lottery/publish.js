require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([5],{67:function(t,e,s){"use strict";var i=a(s(2)),o=a(s(68));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(o.default))},68:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(70),o=s.n(i),a=s(71),r=!1;var n=function(t){r||s(69)},c=s(0)(o.a,a.a,n,"data-v-4d269930",null);c.options.__file="..\\..\\..\\GitProject\\mixtural\\pages\\lottery\\publish.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] publish.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},69:function(t,e){},70:function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i,o=c(s(4)),a=(c(s(3)),c(s(5))),r=(c(s(6)),c(s(7))),n=c(s(11));c(s(12));function c(t){return t&&t.__esModule?t:{default:t}}function l(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,s){return function i(o,a){try{var r=e[o](a),n=r.value}catch(t){return void s(t)}if(!r.done)return Promise.resolve(n).then(function(t){i("next",t)},function(t){i("throw",t)});t(n)}("next")})}}function u(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}for(var p=new Date,m=(new Date,[]),v=[],d=[],h=[],_=[],f=0;f<12;f++)(T=5*f)<10&&(T="0"+T),d.push(T);var w=p.getMonth()+1,y=p.getDate();w<10&&(w="0"+w),y<10&&(y="0"+y);var g=p.getHours()+1;for(24==g&&(g=0),f=0;f<7;f++){var C=new Date,b=C.getTime()+864e5*f;C.setTime(b);var x=C.getMonth()+1,S=C.getDate();x<10&&(x="0"+x),S<10&&(S="0"+S);var T=x+"月"+S+"日";m.push(T)}for(f=0;f<24;f++)f<10&&(f="0"+f),v.push(f);h.push(m),h.push(v),h.push(d),_.push(0),_.push(g),_.push(6),e.default={mixins:[r.default],components:{"v-footer":n.default},data:function(){var t;return u(t={lists:[],prizes:[],opentype:1,maskShow:!1,opentypeShow:!1,multiArray:h,multiIndex:_,isSenior:!1,content:"",iscontent:!0,qrcodeTips:"",qrcode:"",qrcodename:""},"maskShow",!1),u(t,"opentypeShow",!1),u(t,"qrcodeShow",!1),u(t,"qrcodetype",1),u(t,"passwordShow",!1),u(t,"tipsTitle",""),u(t,"tipsText",""),u(t,"tipsBtn",""),u(t,"tipsShow",!1),u(t,"copytext",""),u(t,"content",""),u(t,"imageShow",!1),u(t,"saveText","发起抽奖"),t},computed:{open_type_tips:function(){return 1==this.opentype?"到达设定时间自动开奖":2==this.opentype?"到达设定人数自动开奖":"发起人手动开奖"},qrcode_tips:function(){return 1==this.qrcodetype?"微信号":2==this.qrcodetype?"公众号":3==this.qrcodetype?"小程序":"其他"}},methods:(i={init:function(){var t=this;return l(o.default.mark(function e(){var s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=t,console.log(s.publish),s.prizes.map(function(t,e,i){var o="thumb"+e;s.$set(t,"thumb",s.publish[o])});case 3:case"end":return e.stop()}},e,t)}))()},addLotteryImg:function(e){t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(s){var i=s.tempFilePaths[0];t.navigateTo({url:"/pages/lottery/cutInside?type=thumb"+e+"&src="+i})}})},delPrize:function(t){var e=JSON.parse(JSON.stringify(this.publish));this.$set(e,"thumb"+t,""),this.$store.commit("set_publish",e),this.prizes.splice(t,1)},addPrize:function(){this.prizes.push({title:"",thumb:"../../static/images/cover.png",count:""})},showOpentype:function(){this.opentypeShow=!0},setOpenType:function(t){this.opentype=t,this.close()},timeChange:function(t){console.log(t),this.multiIndex=t.mp.detail.value},seniorChange:function(t){t.mp.detail.value?this.isSenior=!0:this.isSenior=!1},shareChange:function(t){t.mp.detail.value?this.isShare=!0:this.isShare=!1},close:function(){this.maskShow=!1,this.opentypeShow=!1,this.qrcodeShow=!1,this.tipsShow=!1,this.imageShow=!1}},u(i,"showOpentype",function(){this.maskShow=!0,this.opentypeShow=!0}),u(i,"showQrcode",function(){this.maskShow=!0,this.qrcodeShow=!0}),u(i,"addQrcode",function(){var t=this;return l(o.default.mark(function e(){var s,i,r,n,c;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t,e.next=3,a.default.chooseImage(1);case 3:i=e.sent,r=i.map(function(t){return{url:t}}),a.default.loading(),e.t0=o.default.keys(r);case 7:if((e.t1=e.t0()).done){e.next=16;break}return n=e.t1.value,e.next=11,a.default.uploader(r[n].url);case 11:c=e.sent,console.log(c),1==c.status&&(s.qrcode=c.data.url),e.next=7;break;case 16:a.default.loaded();case 17:case"end":return e.stop()}},e,t)}))()}),u(i,"deleteQrcode",function(){this.qrcode=""}),u(i,"setQrcodeType",function(t){this.qrcodetype=t}),u(i,"showPassword",function(){this.passwordShow=!this.passwordShow}),u(i,"showPasswordTips",function(){this.maskShow=!0,this.tipsTitle="",this.tipsText="需输入口令才能参与抽奖，可使用关注公众号或加好友的方式获取口令",this.tipsBtn="我知道了",this.tipsShow=!0}),u(i,"showShareTips",function(){this.maskShow=!0,this.tipsTitle="",this.tipsText="打开此功能后，每成功邀请一位好友参加抽奖，将获得一个抽奖码",this.tipsBtn="我知道了",this.tipsShow=!0}),u(i,"setClipboardData",function(){t.setClipboardData({data:this.copytext,success:function(){a.default.toast("复制成功")}})}),u(i,"save",function(){1==this.opentype&&(this.tipsTitle="你选择了按人数开奖：",this.tipsText="如果72个小时内未达到开奖人数，将会自动开奖",this.tipsBtn="我知道了，发起抽奖",this.maskShow=!0,this.tipsShow=!0),2==this.opentype&&(this.tipsTitle="你选择了手动开奖：",this.tipsText="如果72小时内未手动开奖，将会由系统自动开奖。",this.tipsBtn="我知道了，发起抽奖",this.maskShow=!0,this.tipsShow=!0)}),i),onShow:function(){console.log("onShow"),this.shouldLogin||(console.log("init"),this.init())}}}).call(e,s(1).default)},71:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("view",[s("view",{staticClass:"container container1"},[s("form",{attrs:{reportSubmit:"true",eventid:"Ilr-27"},on:{submit:t.save}},[t._l(t.prizes,function(e,i){return s("block",{key:i},[s("view",{staticClass:"lottery",class:{lotterytop:i>0},style:{height:t.imgHeight+"px"},attrs:{eventid:"aoe-0-"+i},on:{click:function(e){t.addLotteryImg(i)}}},[s("image",{staticClass:"lotteryImg",style:{height:t.imgHeight+"px"},attrs:{src:e.thumb}}),s("view",{staticClass:"addLotteryImg"},[t._v("更改奖品图片")])]),s("view",{staticClass:"lottery_part1"},[i>0?s("image",{staticClass:"delImg",attrs:{src:"../../static/images/del.png",eventid:"0rH-1-"+i},on:{click:function(e){t.delPrize(i)}}}):t._e(),s("view",{staticClass:"lotteryName",class:{lotteryName1:i>0}},[s("view",{staticClass:"part1_left"},[t._v("奖品名称")]),s("view",{staticClass:"part1_right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"item.title"}],staticClass:"lotteryNameInput",attrs:{"data-index":i,name:e.name,placeholder:"请输入奖品名称",placeholderStyle:"color:#cccccc;font-size:30rpx",eventid:"Jeq-2-"+i},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})])]),s("view",{staticClass:"lotterySum",class:{lotteryName1:i>0}},[s("view",{staticClass:"part1_left"},[t._v("奖品数量")]),s("view",{staticClass:"part1Sum_right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.count,expression:"item.count"}],staticClass:"lotterySumInput",attrs:{"data-index":i,maxlength:t.digit,name:e.num,placeholder:"数量",placeholderStyle:"color:#cccccc;font-size:30rpx",type:"number",eventid:"EQ5-3-"+i},domProps:{value:e.count},on:{input:function(t){t.target.composing||(e.count=t.target.value)}}}),s("text",[t._v("个")])])])])])}),s("form",{attrs:{reportSubmit:"true",eventid:"hp0-4"},on:{submit:t.addPrize}},[s("button",{staticClass:"addLotteryBtn",attrs:{formType:"submit"}},[t._v("+ 添加奖品")])],1),s("view",{staticClass:"lotteryChoose"},[s("view",{staticClass:"part2_left"},[t._v(t._s(t.open_type_tips))]),s("view",{staticClass:"part2_right",attrs:{eventid:"enI-5"},on:{click:t.showOpentype}},[s("text",[t._v("修改开奖条件>")])])]),3==t.opentype?s("view",{staticClass:"lottery_part2",staticStyle:{height:"50px"}},[t._v("\n                由发起人手动开奖\n            ")]):t._e(),2==t.opentype?s("view",{staticClass:"lottery_part1",staticStyle:{height:"50px"}},[s("view",{staticClass:"lotterySum"},[s("view",{staticClass:"part1_left"},[t._v("开奖人数")]),s("view",{staticClass:"part1Sum_right"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.people,expression:"people"}],staticClass:"lotterySumInput",attrs:{maxlength:"5",name:"lotteryNumber",placeholder:"人数",placeholderStyle:"color:#ababab;font-size:30rpx",type:"number",eventid:"XaV-6"},domProps:{value:t.people},on:{input:function(e){e.target.composing||(t.people=e.target.value)}}}),s("text",[t._v("人")])])])]):t._e(),1==t.opentype?s("picker",{attrs:{mode:"multiSelector",range:t.multiArray,eventid:"Iuk-7"},on:{change:t.timeChange},model:{value:t.multiIndex,callback:function(e){t.multiIndex=e},expression:"multiIndex"}},[s("view",{staticClass:"lotteryTime"},[s("view",{staticClass:"lotteryTime_left"},[t._v("开奖时间")]),s("view",{staticClass:"lotteryTime_right"},[t._v(t._s(t.multiArray[0][t.multiIndex[0]])+" "+t._s(t.multiArray[1][t.multiIndex[1]])+":"+t._s(t.multiArray[2][t.multiIndex[2]])+"\n                        "),s("image",{staticClass:"lotteryRightImg",attrs:{src:"../../static/images/icon_right.png"}})])])]):t._e(),s("view",{staticClass:"lotteryCopy senior"},[s("view",{staticClass:"partCopy_left"},[t._v("高级功能")]),s("view",{staticClass:"partCopy_right"},[s("switch",{attrs:{checked:t.isSenior,color:"#e9564f",eventid:"mAu-8"},on:{change:t.seniorChange}})])]),t.isSenior?s("block",[s("view",{staticClass:"lotteryChoose"},[s("view",{staticClass:"part2_left"},[t._v("抽奖说明")]),s("view",{staticClass:"part2_right"},[t._v("非必填")])]),s("view",{staticClass:"lotteryArea"},[t.iscontent?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"lotteryTextarea",attrs:{maxlength:"1000",placeholder:"请输入此次抽奖的说明",placeholderStyle:"color:#cccccc;font-size:30rpx;",eventid:"x1q-9"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}):t._e(),t.iscontent?t._e():s("view",{staticClass:"lotteryTextarea",staticStyle:{"font-size":"30rpx",color:"#cccccc"}},[t._v(t._s(t.content))])]),s("view",{staticClass:"lotteryChoose"},[s("view",{staticClass:"part2_left"},[t._v("上传二维码\n                        "),s("text",[t._v("（"+t._s(t.qrcode_tips)+"）")])]),s("view",{staticClass:"part2_right",attrs:{eventid:"n5H-10"},on:{click:t.showQrcode}},[s("text",[t._v("更换类型 >")])])]),s("view",{staticClass:"lottery_code_container"},[s("view",{staticClass:"lottery_code_container_left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.qrcodename,expression:"qrcodename"}],staticClass:"lottery_code_container_left_txt1",attrs:{placeholder:"二维码名称",placeholderStyle:"color:#cccccc;font-size:30rpx;",eventid:"Eoy-11"},domProps:{value:t.qrcodename},on:{input:function(e){e.target.composing||(t.qrcodename=e.target.value)}}}),s("view",{staticClass:"lottery_code_container_left_txt2"},[t._v("*可以上传微信号、公众号、小程序等二维码")])]),s("view",{staticClass:"lottery_code_container_right"},[t.qrcode?s("block",[s("image",{staticClass:"lottery_code_container_right1",attrs:{src:t.qrcode}}),s("image",{staticClass:"lottery_code_continer_imgclose",attrs:{src:"../../static/images/icon_close2.png",eventid:"H98-12"},on:{click:t.deleteQrcode}})]):t._e(),s("image",{staticClass:"lottery_code_container_right1",attrs:{src:"../../static/images/icon_add.png","wx:else":"",eventid:"CLn-13"},on:{click:t.addQrcode}})],1)]),s("view",{staticClass:"lotteryChoose",attrs:{hidden:""}},[s("view",{staticClass:"part2_left"},[t._v("一键复制")]),s("view",{staticClass:"part2_right"},[t._v("非必填")])]),s("view",{staticClass:"lotteryWxCopy",attrs:{hidden:""}},[s("view",{staticClass:"lotteryWxCopy_left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.copytext,expression:"copytext"}],staticClass:"copyTxtInput",attrs:{placeholder:"点此填写需要被复制的内容",placeholderStyle:"color:#cccccc",eventid:"MnG-14"},domProps:{value:t.copytext},on:{input:function(e){e.target.composing||(t.copytext=e.target.value)}}})]),s("form",{attrs:{reportSubmit:"true",eventid:"U78-15"},on:{submit:t.setClipboardData}},[s("button",{staticClass:"lotteryWxCopy_right",attrs:{formType:"submit"}},[t._v("一键复制")])],1)],1),s("view",{staticClass:"lotteryChoose"},[s("view",{staticClass:"part2_left"},[t._v("奖品介绍")]),s("view",{staticClass:"part2_right"},[t._v("非必填")])]),s("view",{staticClass:"lotteryArea"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"lotteryTextarea",attrs:{placeholder:"请输入此次奖品的介绍",placeholderStyle:"color:#cccccc;font-size:30rpx;",eventid:"8zf-16"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),s("view",{staticClass:"lotteryPassword"},[s("view",{staticClass:"lotteryPassword_left"},[s("view",{staticClass:"lotteryPassword_txt"},[t._v("口令")]),s("image",{staticClass:"lotteryPasswordImg",attrs:{src:"../../static/images/icon_password.png",eventid:"xf4-17"},on:{click:t.showPasswordTips}})]),t.passwordShow?t._e():s("view",{staticClass:"lotteryPassword_right",attrs:{eventid:"r3a-18"},on:{click:t.showPassword}},[s("image",{staticClass:"lotteryPassword_rightImg",attrs:{src:"../../static/images/icon_down.png"}})]),t.passwordShow?s("view",{staticClass:"lotteryPassword_right",attrs:{eventid:"h7l-19"},on:{click:t.showPassword}},[s("image",{staticClass:"lotteryPassword_rightImg",attrs:{src:"../../static/images/icon_up.png"}})]):t._e()]),t.passwordShow?s("view",{staticClass:"lotteryPasswordInput"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"PasswordInput",attrs:{maxlength:"20",placeholder:"填写口令内容（20字以内）",placeholderStyle:"font-size:30rpx;color:#cccccc",eventid:"wIk-20"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]):t._e(),s("view",{staticClass:"lotteryCopy senior"},[s("view",{staticClass:"partCopy_left"},[t._v("分享提升中奖率\n                        "),s("image",{staticClass:"winningRateImg",attrs:{src:"../../static/images/icon_password.png",eventid:"gsk-21"},on:{click:t.showShareTips}})]),s("view",{staticClass:"partCopy_right"},[s("switch",{attrs:{checked:t.isShare,color:"#e9564f",eventid:"dFi-22"},on:{change:t.shareChange}})])])]):t._e(),s("view",{staticClass:"footer_txt"},[s("form",{attrs:{reportSubmit:"true",eventid:"mUe-23"},on:{submit:t.complaint}},[s("button",{staticClass:"relief",attrs:{formType:"submit",openType:"feedback"}},[t._v("意见反馈")])],1),s("view",{staticClass:"footer_txt_xian"}),s("form",{attrs:{reportSubmit:"true",eventid:"dYD-24"},on:{submit:t.toHomePage}},[s("button",{staticClass:"relief",attrs:{formType:"submit"}},[t._v("我要上首页")])],1)],1),t.isreturn?s("view",{staticClass:"lottery_return"},[s("image",{staticClass:"returnImg",attrs:{src:"../../static/images/icon_return.png",eventid:"gEp-25"},on:{click:t.toReturn}})]):t._e(),t.userInfo.mobile?s("button",{staticClass:"lottery_footerX",attrs:{formType:"submit",hoverClass:"button_hover2"}},[t._v("\n                "+t._s(t.saveText)+"\n            ")]):t._e(),s("button",{staticClass:"lottery_footerX",attrs:{formType:"submit",hoverClass:"button_hover2",openType:"getPhoneNumber","wx:else":"",eventid:"Mr3-26"},on:{getphonenumber:t.getPhoneNumber}},[t._v("\n                "+t._s(t.saveText)+"\n            ")]),t.isIos?s("view",{staticClass:"lottery_phone"}):t._e()],2)],1),t.maskShow?s("view",{staticClass:"popup_mask",attrs:{eventid:"HAs-28"},on:{click:t.close}}):t._e(),t.opentypeShow?s("view",{staticClass:"upMenu"},[s("form",{attrs:{reportSubmit:"true",eventid:"0Vr-29"},on:{submit:function(e){t.setOpenType(1)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("按时间自动开奖")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"t06-30"},on:{submit:function(e){t.setOpenType(2)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("按人数自动开奖")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"IcD-31"},on:{submit:function(e){t.setOpenType(3)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("手动开奖")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"xBp-32"},on:{submit:t.close}},[s("button",{staticClass:"upMenu_btn upMenu_cancel",attrs:{formType:"submit",hoverClass:"button_hover5"}},[t._v("取消")])],1)],1):t._e(),t.qrcodeShow?s("view",{staticClass:"code_menu"},[s("form",{attrs:{reportSubmit:"true",eventid:"fhj-33"},on:{submit:function(e){t.setQrcodeType(1)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("微信号")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"LO6-34"},on:{submit:function(e){t.setQrcodeType(2)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("公众号")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"iXo-35"},on:{submit:function(e){t.setQrcodeType(3)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("小程序")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"YvZ-36"},on:{submit:function(e){t.setQrcodeType(4)}}},[s("button",{staticClass:"upMenu_btn",attrs:{formType:"submit",hoverClass:"button_hover4"}},[t._v("其他")])],1),s("form",{attrs:{reportSubmit:"true",eventid:"W02-37"},on:{submit:t.close}},[s("button",{staticClass:"upMenu_btn upMenu_cancel",attrs:{formType:"submit",hoverClass:"button_hover5"}},[t._v("取消")])],1)],1):t._e(),t.tipsShow?s("view",{staticClass:"auth_popup partInReply"},[s("image",{staticClass:"closetip",attrs:{src:"../../static/images/icon_close.png",eventid:"tLY-38"},on:{click:t.close}}),s("view",{staticClass:"tip_content"},[s("text",{staticClass:"tip_content1"},[t._v(t._s(t.tipsTitle))]),s("text",{staticClass:"tip_content2"},[t._v(t._s(t.tipsText))])]),s("form",{attrs:{reportSubmit:"true",eventid:"tzl-39"},on:{submit:t.close}},[s("button",{staticClass:"tip_btn",staticStyle:{"margin-top":"60rpx"},attrs:{formType:"submit",hoverClass:"button_hover2"}},[t._v(t._s(t.tipsBtn))])],1)],1):t._e(),t.imageShow?s("view",{staticClass:"auth_popup partInReply"},[t._m(0),s("view",{staticClass:"password_btn"},[s("view",{staticClass:"password_btn_left"},[s("form",{attrs:{reportSubmit:"true",eventid:"WNg-40"},on:{submit:t.imageCancel}},[s("button",{staticClass:"pwCancelBtn",attrs:{formType:"submit",hoverClass:"button_hover21"}},[t._v("取消")])],1)],1),s("view",{staticClass:"password_btn_right"},[s("form",{attrs:{reportSubmit:"true",eventid:"X1K-41"},on:{submit:t.save}},[s("button",{staticClass:"pwConfirmBtn",attrs:{formType:"submit",hoverClass:"button_hover2"}},[t._v("发起抽奖")])],1)],1)])]):t._e()])};i._withStripped=!0;var o={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"tip_content"},[e("text",{staticClass:"tip_content1"},[this._v("你还未添加奖品图片")]),e("text",{staticClass:"tip_content2"},[this._v("是否使用默认奖品图片发起抽奖？")])])}]};e.a=o}},[67]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/lottery/publish.js.map