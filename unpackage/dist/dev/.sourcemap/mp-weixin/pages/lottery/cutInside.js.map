{"version":3,"sources":["webpack:///F:/GitProject/mixtural/main.js","webpack:///F:/GitProject/mixtural/node_modules/mpvue-cropper/mpvue-cropper.vue?12ee","webpack:///F:/GitProject/mixtural/node_modules/mpvue-cropper/mpvue-cropper.vue?b803","webpack:///F:/GitProject/mixtural/node_modules/mpvue-cropper/mpvue-cropper.vue?f671","webpack:///F:/GitProject/mixtural/node_modules/we-cropper/dist/we-cropper.js","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue?e6eb","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue?61b4","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue?04ec","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue?79a1","webpack:///F:/GitProject/mixtural/node_modules/mpvue-cropper/mpvue-cropper.vue","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue?0f36","webpack:///F:/GitProject/mixtural/node_modules/mpvue-cropper/mpvue-cropper.vue?1426","webpack:///F:/GitProject/mixtural/pages/lottery/cutInside.vue?4a15"],"names":["Page","App","global","factory","module","exports","device","TOUCH_STATE","firstLetterUpper","str","charAt","toUpperCase","slice","setTouchState","instance","arg","len","arguments","length","forEach","key","i","undefined","validator","o","Object","defineProperties","getDevice","wx","getSystemInfoSync","tmp","ref","pixelRatio","DEFAULT","id","default","get","set","value","console","error","width","height","scale","zoom","src","cut","boundStyle","onReady","ready","onBeforeImageLoad","beforeImageLoad","onImageLoad","imageLoad","onBeforeDraw","beforeDraw","ref$1","windowWidth","prepare","self","attachPage","pages","getCurrentPages","pageContext","defineProperty","warn","createCtx","targetId","ctx","createCanvasContext","targetCtx","deviceRadio","commonjsGlobal","window","createCommonjsModule","fn","tools","isStr","v","isNum","isArr","Array","isArray","isUndef","isTrue","isFalse","isFunc","isObj","isObject","obj","_toString","prototype","toString","isPlainObject","call","hasOwnProperty","hasOwn","noop","a","b","c","isValidArrayIndex","val","n","parseFloat","String","Math","floor","isFinite","tools_7","tools_10","EVENT_TYPE","observer","on","event","indexOf","wxPromise","Promise","resolve","reject","success","res","fail","err","draw","reserve","getImageInfo","canvasToTempFilePath","base64","root","freeExports","freeModule","freeGlobal","InvalidCharacterError","message","Error","name","TABLE","REGEX_SPACE_CHARACTERS","decode","input","replace","test","bitCounter","bitStorage","buffer","output","position","fromCharCode","encode","padding","charCodeAt","nodeType","makeURI","strData","type","fixType","toLowerCase","r","match","encodeData","data","getImageData","canvasId","x","y","done","canvasGetImageData","genBitmapImage","oData","biWidth","biHeight","biSizeImage","bfSize","BITMAPFILEHEADER","BITMAPINFOHEADER","iPadding","aImgData","strPixelData","biWidth4","iOffsetY","strPixelRow","iOffsetX","strEncoded","concat","convertToImage","CanvasToBase64","convertToBMP","methods","boundWidth","boundHeight","updateCanvas","croperTarget","drawImage","imgLeft","imgTop","scaleWidth","scaleHeight","setBoundStyle","pushOrign","then","innerAspectRadio","customAspectRadio","path","rectX","baseWidth","baseHeight","rectY","abs","update","getCropperBase64","getCropperImage","args","customOptions","canvasOptions","task","original","assign","tempFilePath","catch","getNewScale","oldScale","oldDistance","touch0","touch1","xMove","yMove","newDistance","round","sqrt","__oneTouchStart","touch","touchX0","touchY0","__oneTouchMove","touchended","outsideBound","__twoTouchStart","touchX1","touchY1","__twoTouchMove","newScale","__xtouchEnd","handle","touchStart","e","touches","touchMove","touchEnd","color","mask","lineWidth","boundOption","start","step1","step2","beginPath","setFillStyle","fillRect","fill","op","setStrokeStyle","setLineWidth","moveTo","lineTo","stroke","version","WeCropper","params","_default","keys","cutt","init","_wecropper","props","option","computed","_canvasId","_width","_height","touchstart","$event","mp","touchmove","touchend","pushOrigin","$emit","onLoad","wecropper","sysInfo","windowHeight","middle","mixins","mixin","cropperOpt","components","MpvueCropper","cropperReady","log","cropperBeforeImageLoad","cropperLoad","cropperBeforeDraw","_this","image_data","Utils","loading","uploader","result","loaded","status","publish","JSON","parse","stringify","$set","url","$store","commit","navigateBack","delta","toast","onShow","shouldLogin","$refs","cropper","$root","$mp","query"],"mappings":"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ACuB,KAAN,CAAYC,GAAZ,CAAgBC,KAAhB,CAAsB5K,IAAnC;AACAmJ,WAAK,CAACjQ,GAAN,GAAYiQ,KAAK,CAACuB,KAAN,CAAYC,GAAZ,CAAgBC,KAAhB,CAAsB1R,GAAlC;AACAmP,eAAS,CAACH,UAAV,CAAqBiB,KAAK,CAACjQ,GAA3B;AACH;AACJ,GA1EU,E;;;;;;;;;;;ACxBf,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iCAAiC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,kBAAkB,iCAAiC;AACnD,oBAAoB,6BAA6B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C,iBAAiB;AACjB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"pages/lottery/cutInside.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/lottery/cutInside.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./mpvue-cropper.vue?vue&type=template&id=33d03947&\"\nimport script from \"./mpvue-cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./mpvue-cropper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('33d03947', component.options)\n    } else {\n      api.reload('33d03947', component.options)\n    }\n    module.hot.accept(\"./mpvue-cropper.vue?vue&type=template&id=33d03947&\", function () {\n      api.rerender('33d03947', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"GitProject/mixtural/node_modules/mpvue-cropper/mpvue-cropper.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./mpvue-cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./mpvue-cropper.vue?vue&type=script&lang=js&\"","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./mpvue-cropper.vue?vue&type=template&id=33d03947&\"","/**\r\n * we-cropper v1.3.3\r\n * (c) 2019 dlhandsome\r\n * @license MIT\r\n */\r\n(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n\ttypeof define === 'function' && define.amd ? define(factory) :\r\n\t(global.WeCropper = factory());\r\n}(this, (function () { 'use strict';\r\n\r\nvar device = void 0;\r\nvar TOUCH_STATE = ['touchstarted', 'touchmoved', 'touchended'];\r\n\r\nfunction firstLetterUpper (str) {\r\n  return str.charAt(0).toUpperCase() + str.slice(1)\r\n}\r\n\r\nfunction setTouchState (instance) {\r\n  var arg = [], len = arguments.length - 1;\r\n  while ( len-- > 0 ) arg[ len ] = arguments[ len + 1 ];\r\n\r\n  TOUCH_STATE.forEach(function (key, i) {\r\n    if (arg[i] !== undefined) {\r\n      instance[key] = arg[i];\r\n    }\r\n  });\r\n}\r\n\r\nfunction validator (instance, o) {\r\n  Object.defineProperties(instance, o);\r\n}\r\n\r\nfunction\tgetDevice () {\r\n  if (!device) {\r\n    device = wx.getSystemInfoSync();\r\n  }\r\n  return device\r\n}\r\n\r\nvar tmp = {};\r\n\r\nvar ref = getDevice();\r\nvar pixelRatio = ref.pixelRatio;\r\n\r\nvar DEFAULT = {\r\n  id: {\r\n    default: 'cropper',\r\n    get: function get () {\r\n      return tmp.id\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'string') {\r\n        console.error((\"id：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.id = value;\r\n    }\r\n  },\r\n  width: {\r\n    default: 750,\r\n    get: function get () {\r\n      return tmp.width\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'number') {\r\n        console.error((\"width：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.width = value;\r\n    }\r\n  },\r\n  height: {\r\n    default: 750,\r\n    get: function get () {\r\n      return tmp.height\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'number') {\r\n        console.error((\"height：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.height = value;\r\n    }\r\n  },\r\n  pixelRatio: {\r\n    default: pixelRatio,\r\n    get: function get () {\r\n      return tmp.pixelRatio\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'number') {\r\n        console.error((\"pixelRatio：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.pixelRatio = value;\r\n    }\r\n  },\r\n  scale: {\r\n    default: 2.5,\r\n    get: function get () {\r\n      return tmp.scale\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'number') {\r\n        console.error((\"scale：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.scale = value;\r\n    }\r\n  },\r\n  zoom: {\r\n    default: 5,\r\n    get: function get () {\r\n      return tmp.zoom\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'number') {\r\n        console.error((\"zoom：\" + value + \" is invalid\"));\r\n      } else if (value < 0 || value > 10) {\r\n        console.error(\"zoom should be ranged in 0 ~ 10\");\r\n      }\r\n      tmp.zoom = value;\r\n    }\r\n  },\r\n  src: {\r\n    default: '',\r\n    get: function get () {\r\n      return tmp.src\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'string') {\r\n        console.error((\"src：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.src = value;\r\n    }\r\n  },\r\n  cut: {\r\n    default: {},\r\n    get: function get () {\r\n      return tmp.cut\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'object') {\r\n        console.error((\"cut：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.cut = value;\r\n    }\r\n  },\r\n  boundStyle: {\r\n    default: {},\r\n    get: function get () {\r\n      return tmp.boundStyle\r\n    },\r\n    set: function set (value) {\r\n      if (typeof (value) !== 'object') {\r\n        console.error((\"boundStyle：\" + value + \" is invalid\"));\r\n      }\r\n      tmp.boundStyle = value;\r\n    }\r\n  },\r\n  onReady: {\r\n    default: null,\r\n    get: function get () {\r\n      return tmp.ready\r\n    },\r\n    set: function set (value) {\r\n      tmp.ready = value;\r\n    }\r\n  },\r\n  onBeforeImageLoad: {\r\n    default: null,\r\n    get: function get () {\r\n      return tmp.beforeImageLoad\r\n    },\r\n    set: function set (value) {\r\n      tmp.beforeImageLoad = value;\r\n    }\r\n  },\r\n  onImageLoad: {\r\n    default: null,\r\n    get: function get () {\r\n      return tmp.imageLoad\r\n    },\r\n    set: function set (value) {\r\n      tmp.imageLoad = value;\r\n    }\r\n  },\r\n  onBeforeDraw: {\r\n    default: null,\r\n    get: function get () {\r\n      return tmp.beforeDraw\r\n    },\r\n    set: function set (value) {\r\n      tmp.beforeDraw = value;\r\n    }\r\n  }\r\n};\r\n\r\nvar ref$1 = getDevice();\r\nvar windowWidth = ref$1.windowWidth;\r\n\r\nfunction prepare () {\r\n  var self = this;\r\n\r\n  // v1.4.0 版本中将不再自动绑定we-cropper实例\r\n  self.attachPage = function () {\r\n    var pages = getCurrentPages();\r\n    // 获取到当前page上下文\r\n    var pageContext = pages[pages.length - 1];\r\n    // 把this依附在Page上下文的wecropper属性上，便于在page钩子函数中访问\r\n    Object.defineProperty(pageContext, 'wecropper', {\r\n      get: function get () {\r\n        console.warn(\r\n          'Instance will not be automatically bound to the page after v1.4.0\\n\\n' +\r\n          'Please use a custom instance name instead\\n\\n' +\r\n          'Example: \\n' +\r\n          'this.mycropper = new WeCropper(options)\\n\\n' +\r\n          '// ...\\n' +\r\n          'this.mycropper.getCropperImage()'\r\n        );\r\n        return self\r\n      }\r\n    });\r\n  };\r\n\r\n  self.createCtx = function () {\r\n    var id = self.id;\r\n    var targetId = self.targetId;\r\n\r\n    if (id) {\r\n      self.ctx = wx.createCanvasContext(id);\r\n      self.targetCtx = wx.createCanvasContext(targetId);\r\n    } else {\r\n      console.error(\"constructor: create canvas context failed, 'id' must be valuable\");\r\n    }\r\n  };\r\n\r\n  self.deviceRadio = windowWidth / 750;\r\n}\r\n\r\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\r\n\r\n\r\n\r\n\r\n\r\nfunction createCommonjsModule(fn, module) {\r\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\r\n}\r\n\r\nvar tools = createCommonjsModule(function (module, exports) {\r\n/**\r\n * String type check\r\n */\r\nexports.isStr = function (v) { return typeof v === 'string'; };\r\n/**\r\n * Number type check\r\n */\r\nexports.isNum = function (v) { return typeof v === 'number'; };\r\n/**\r\n * Array type check\r\n */\r\nexports.isArr = Array.isArray;\r\n/**\r\n * undefined type check\r\n */\r\nexports.isUndef = function (v) { return v === undefined; };\r\n\r\nexports.isTrue = function (v) { return v === true; };\r\n\r\nexports.isFalse = function (v) { return v === false; };\r\n/**\r\n * Function type check\r\n */\r\nexports.isFunc = function (v) { return typeof v === 'function'; };\r\n/**\r\n * Quick object check - this is primarily used to tell\r\n * Objects from primitive values when we know the value\r\n * is a JSON-compliant type.\r\n */\r\nexports.isObj = exports.isObject = function (obj) {\r\n  return obj !== null && typeof obj === 'object'\r\n};\r\n\r\n/**\r\n * Strict object type check. Only returns true\r\n * for plain JavaScript objects.\r\n */\r\nvar _toString = Object.prototype.toString;\r\nexports.isPlainObject = function (obj) {\r\n  return _toString.call(obj) === '[object Object]'\r\n};\r\n\r\n/**\r\n * Check whether the object has the property.\r\n */\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexports.hasOwn = function (obj, key) {\r\n  return hasOwnProperty.call(obj, key)\r\n};\r\n\r\n/**\r\n * Perform no operation.\r\n * Stubbing args to make Flow happy without leaving useless transpiled code\r\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/)\r\n */\r\nexports.noop = function (a, b, c) {};\r\n\r\n/**\r\n * Check if val is a valid array index.\r\n */\r\nexports.isValidArrayIndex = function (val) {\r\n  var n = parseFloat(String(val));\r\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\r\n};\r\n});\r\n\r\nvar tools_7 = tools.isFunc;\r\nvar tools_10 = tools.isPlainObject;\r\n\r\nvar EVENT_TYPE = ['ready', 'beforeImageLoad', 'beforeDraw', 'imageLoad'];\r\n\r\nfunction observer () {\r\n  var self = this;\r\n\r\n  self.on = function (event, fn) {\r\n    if (EVENT_TYPE.indexOf(event) > -1) {\r\n      if (tools_7(fn)) {\r\n        event === 'ready'\r\n          ? fn(self)\r\n          : self[(\"on\" + (firstLetterUpper(event)))] = fn;\r\n      }\r\n    } else {\r\n      console.error((\"event: \" + event + \" is invalid\"));\r\n    }\r\n    return self\r\n  };\r\n}\r\n\r\nfunction wxPromise (fn) {\r\n  return function (obj) {\r\n    if ( obj === void 0 ) obj = {};\r\n\r\n    return new Promise(function (resolve, reject) {\r\n      obj.success = function (res) {\r\n        resolve(res);\r\n      };\r\n      obj.fail = function (err) {\r\n        reject(err);\r\n      };\r\n      fn(obj);\r\n    })\r\n  }\r\n}\r\n\r\nfunction draw (ctx, reserve) {\r\n  if ( reserve === void 0 ) reserve = false;\r\n\r\n  return new Promise(function (resolve) {\r\n    ctx.draw(reserve, resolve);\r\n  })\r\n}\r\n\r\nvar getImageInfo = wxPromise(wx.getImageInfo);\r\n\r\nvar canvasToTempFilePath = wxPromise(wx.canvasToTempFilePath);\r\n\r\nvar base64 = createCommonjsModule(function (module, exports) {\r\n/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */\r\n(function(root) {\r\n\r\n\t// Detect free variables `exports`.\r\n\tvar freeExports = 'object' == 'object' && exports;\r\n\r\n\t// Detect free variable `module`.\r\n\tvar freeModule = 'object' == 'object' && module &&\r\n\t\tmodule.exports == freeExports && module;\r\n\r\n\t// Detect free variable `global`, from Node.js or Browserified code, and use\r\n\t// it as `root`.\r\n\tvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal;\r\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\r\n\t\troot = freeGlobal;\r\n\t}\r\n\r\n\t/*--------------------------------------------------------------------------*/\r\n\r\n\tvar InvalidCharacterError = function(message) {\r\n\t\tthis.message = message;\r\n\t};\r\n\tInvalidCharacterError.prototype = new Error;\r\n\tInvalidCharacterError.prototype.name = 'InvalidCharacterError';\r\n\r\n\tvar error = function(message) {\r\n\t\t// Note: the error messages used throughout this file match those used by\r\n\t\t// the native `atob`/`btoa` implementation in Chromium.\r\n\t\tthrow new InvalidCharacterError(message);\r\n\t};\r\n\r\n\tvar TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\r\n\t// http://whatwg.org/html/common-microsyntaxes.html#space-character\r\n\tvar REGEX_SPACE_CHARACTERS = /[\\t\\n\\f\\r ]/g;\r\n\r\n\t// `decode` is designed to be fully compatible with `atob` as described in the\r\n\t// HTML Standard. http://whatwg.org/html/webappapis.html#dom-windowbase64-atob\r\n\t// The optimized base64-decoding algorithm used is based on @atk’s excellent\r\n\t// implementation. https://gist.github.com/atk/1020396\r\n\tvar decode = function(input) {\r\n\t\tinput = String(input)\r\n\t\t\t.replace(REGEX_SPACE_CHARACTERS, '');\r\n\t\tvar length = input.length;\r\n\t\tif (length % 4 == 0) {\r\n\t\t\tinput = input.replace(/==?$/, '');\r\n\t\t\tlength = input.length;\r\n\t\t}\r\n\t\tif (\r\n\t\t\tlength % 4 == 1 ||\r\n\t\t\t// http://whatwg.org/C#alphanumeric-ascii-characters\r\n\t\t\t/[^+a-zA-Z0-9/]/.test(input)\r\n\t\t) {\r\n\t\t\terror(\r\n\t\t\t\t'Invalid character: the string to be decoded is not correctly encoded.'\r\n\t\t\t);\r\n\t\t}\r\n\t\tvar bitCounter = 0;\r\n\t\tvar bitStorage;\r\n\t\tvar buffer;\r\n\t\tvar output = '';\r\n\t\tvar position = -1;\r\n\t\twhile (++position < length) {\r\n\t\t\tbuffer = TABLE.indexOf(input.charAt(position));\r\n\t\t\tbitStorage = bitCounter % 4 ? bitStorage * 64 + buffer : buffer;\r\n\t\t\t// Unless this is the first of a group of 4 characters…\r\n\t\t\tif (bitCounter++ % 4) {\r\n\t\t\t\t// …convert the first 8 bits to a single ASCII character.\r\n\t\t\t\toutput += String.fromCharCode(\r\n\t\t\t\t\t0xFF & bitStorage >> (-2 * bitCounter & 6)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t};\r\n\r\n\t// `encode` is designed to be fully compatible with `btoa` as described in the\r\n\t// HTML Standard: http://whatwg.org/html/webappapis.html#dom-windowbase64-btoa\r\n\tvar encode = function(input) {\r\n\t\tinput = String(input);\r\n\t\tif (/[^\\0-\\xFF]/.test(input)) {\r\n\t\t\t// Note: no need to special-case astral symbols here, as surrogates are\r\n\t\t\t// matched, and the input is supposed to only contain ASCII anyway.\r\n\t\t\terror(\r\n\t\t\t\t'The string to be encoded contains characters outside of the ' +\r\n\t\t\t\t'Latin1 range.'\r\n\t\t\t);\r\n\t\t}\r\n\t\tvar padding = input.length % 3;\r\n\t\tvar output = '';\r\n\t\tvar position = -1;\r\n\t\tvar a;\r\n\t\tvar b;\r\n\t\tvar c;\r\n\t\tvar buffer;\r\n\t\t// Make sure any padding is handled outside of the loop.\r\n\t\tvar length = input.length - padding;\r\n\r\n\t\twhile (++position < length) {\r\n\t\t\t// Read three bytes, i.e. 24 bits.\r\n\t\t\ta = input.charCodeAt(position) << 16;\r\n\t\t\tb = input.charCodeAt(++position) << 8;\r\n\t\t\tc = input.charCodeAt(++position);\r\n\t\t\tbuffer = a + b + c;\r\n\t\t\t// Turn the 24 bits into four chunks of 6 bits each, and append the\r\n\t\t\t// matching character for each of them to the output.\r\n\t\t\toutput += (\r\n\t\t\t\tTABLE.charAt(buffer >> 18 & 0x3F) +\r\n\t\t\t\tTABLE.charAt(buffer >> 12 & 0x3F) +\r\n\t\t\t\tTABLE.charAt(buffer >> 6 & 0x3F) +\r\n\t\t\t\tTABLE.charAt(buffer & 0x3F)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (padding == 2) {\r\n\t\t\ta = input.charCodeAt(position) << 8;\r\n\t\t\tb = input.charCodeAt(++position);\r\n\t\t\tbuffer = a + b;\r\n\t\t\toutput += (\r\n\t\t\t\tTABLE.charAt(buffer >> 10) +\r\n\t\t\t\tTABLE.charAt((buffer >> 4) & 0x3F) +\r\n\t\t\t\tTABLE.charAt((buffer << 2) & 0x3F) +\r\n\t\t\t\t'='\r\n\t\t\t);\r\n\t\t} else if (padding == 1) {\r\n\t\t\tbuffer = input.charCodeAt(position);\r\n\t\t\toutput += (\r\n\t\t\t\tTABLE.charAt(buffer >> 2) +\r\n\t\t\t\tTABLE.charAt((buffer << 4) & 0x3F) +\r\n\t\t\t\t'=='\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn output;\r\n\t};\r\n\r\n\tvar base64 = {\r\n\t\t'encode': encode,\r\n\t\t'decode': decode,\r\n\t\t'version': '0.1.0'\r\n\t};\r\n\r\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\r\n\t// like the following:\r\n\tif (\r\n\t\ttypeof undefined == 'function' &&\r\n\t\ttypeof undefined.amd == 'object' &&\r\n\t\tundefined.amd\r\n\t) {\r\n\t\tundefined(function() {\r\n\t\t\treturn base64;\r\n\t\t});\r\n\t}\telse if (freeExports && !freeExports.nodeType) {\r\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\r\n\t\t\tfreeModule.exports = base64;\r\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\r\n\t\t\tfor (var key in base64) {\r\n\t\t\t\tbase64.hasOwnProperty(key) && (freeExports[key] = base64[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else { // in Rhino or a web browser\r\n\t\troot.base64 = base64;\r\n\t}\r\n\r\n}(commonjsGlobal));\r\n});\r\n\r\nfunction makeURI (strData, type) {\r\n  return 'data:' + type + ';base64,' + strData\r\n}\r\n\r\nfunction fixType (type) {\r\n  type = type.toLowerCase().replace(/jpg/i, 'jpeg');\r\n  var r = type.match(/png|jpeg|bmp|gif/)[0];\r\n  return 'image/' + r\r\n}\r\n\r\nfunction encodeData (data) {\r\n  var str = '';\r\n  if (typeof data === 'string') {\r\n    str = data;\r\n  } else {\r\n    for (var i = 0; i < data.length; i++) {\r\n      str += String.fromCharCode(data[i]);\r\n    }\r\n  }\r\n  return base64.encode(str)\r\n}\r\n\r\n/**\r\n * 获取图像区域隐含的像素数据\r\n * @param canvasId canvas标识\r\n * @param x 将要被提取的图像数据矩形区域的左上角 x 坐标\r\n * @param y 将要被提取的图像数据矩形区域的左上角 y 坐标\r\n * @param width 将要被提取的图像数据矩形区域的宽度\r\n * @param height 将要被提取的图像数据矩形区域的高度\r\n * @param done 完成回调\r\n */\r\nfunction getImageData (canvasId, x, y, width, height, done) {\r\n  wx.canvasGetImageData({\r\n    canvasId: canvasId,\r\n    x: x,\r\n    y: y,\r\n    width: width,\r\n    height: height,\r\n    success: function success (res) {\r\n      done(res);\r\n    },\r\n    fail: function fail (res) {\r\n      done(null);\r\n      console.error('canvasGetImageData error: ' + res);\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 生成bmp格式图片\r\n * 按照规则生成图片响应头和响应体\r\n * @param oData 用来描述 canvas 区域隐含的像素数据 { data, width, height } = oData\r\n * @returns {*} base64字符串\r\n */\r\nfunction genBitmapImage (oData) {\r\n  //\r\n  // BITMAPFILEHEADER: http://msdn.microsoft.com/en-us/library/windows/desktop/dd183374(v=vs.85).aspx\r\n  // BITMAPINFOHEADER: http://msdn.microsoft.com/en-us/library/dd183376.aspx\r\n  //\r\n  var biWidth = oData.width;\r\n  var biHeight\t= oData.height;\r\n  var biSizeImage = biWidth * biHeight * 3;\r\n  var bfSize = biSizeImage + 54; // total header size = 54 bytes\r\n\r\n  //\r\n  //  typedef struct tagBITMAPFILEHEADER {\r\n  //  \tWORD bfType;\r\n  //  \tDWORD bfSize;\r\n  //  \tWORD bfReserved1;\r\n  //  \tWORD bfReserved2;\r\n  //  \tDWORD bfOffBits;\r\n  //  } BITMAPFILEHEADER;\r\n  //\r\n  var BITMAPFILEHEADER = [\r\n    // WORD bfType -- The file type signature; must be \"BM\"\r\n    0x42, 0x4D,\r\n    // DWORD bfSize -- The size, in bytes, of the bitmap file\r\n    bfSize & 0xff, bfSize >> 8 & 0xff, bfSize >> 16 & 0xff, bfSize >> 24 & 0xff,\r\n    // WORD bfReserved1 -- Reserved; must be zero\r\n    0, 0,\r\n    // WORD bfReserved2 -- Reserved; must be zero\r\n    0, 0,\r\n    // DWORD bfOffBits -- The offset, in bytes, from the beginning of the BITMAPFILEHEADER structure to the bitmap bits.\r\n    54, 0, 0, 0\r\n  ];\r\n\r\n  //\r\n  //  typedef struct tagBITMAPINFOHEADER {\r\n  //  \tDWORD biSize;\r\n  //  \tLONG  biWidth;\r\n  //  \tLONG  biHeight;\r\n  //  \tWORD  biPlanes;\r\n  //  \tWORD  biBitCount;\r\n  //  \tDWORD biCompression;\r\n  //  \tDWORD biSizeImage;\r\n  //  \tLONG  biXPelsPerMeter;\r\n  //  \tLONG  biYPelsPerMeter;\r\n  //  \tDWORD biClrUsed;\r\n  //  \tDWORD biClrImportant;\r\n  //  } BITMAPINFOHEADER, *PBITMAPINFOHEADER;\r\n  //\r\n  var BITMAPINFOHEADER = [\r\n    // DWORD biSize -- The number of bytes required by the structure\r\n    40, 0, 0, 0,\r\n    // LONG biWidth -- The width of the bitmap, in pixels\r\n    biWidth & 0xff, biWidth >> 8 & 0xff, biWidth >> 16 & 0xff, biWidth >> 24 & 0xff,\r\n    // LONG biHeight -- The height of the bitmap, in pixels\r\n    biHeight & 0xff, biHeight >> 8 & 0xff, biHeight >> 16 & 0xff, biHeight >> 24 & 0xff,\r\n    // WORD biPlanes -- The number of planes for the target device. This value must be set to 1\r\n    1, 0,\r\n    // WORD biBitCount -- The number of bits-per-pixel, 24 bits-per-pixel -- the bitmap\r\n    // has a maximum of 2^24 colors (16777216, Truecolor)\r\n    24, 0,\r\n    // DWORD biCompression -- The type of compression, BI_RGB (code 0) -- uncompressed\r\n    0, 0, 0, 0,\r\n    // DWORD biSizeImage -- The size, in bytes, of the image. This may be set to zero for BI_RGB bitmaps\r\n    biSizeImage & 0xff, biSizeImage >> 8 & 0xff, biSizeImage >> 16 & 0xff, biSizeImage >> 24 & 0xff,\r\n    // LONG biXPelsPerMeter, unused\r\n    0, 0, 0, 0,\r\n    // LONG biYPelsPerMeter, unused\r\n    0, 0, 0, 0,\r\n    // DWORD biClrUsed, the number of color indexes of palette, unused\r\n    0, 0, 0, 0,\r\n    // DWORD biClrImportant, unused\r\n    0, 0, 0, 0\r\n  ];\r\n\r\n  var iPadding = (4 - ((biWidth * 3) % 4)) % 4;\r\n\r\n  var aImgData = oData.data;\r\n\r\n  var strPixelData = '';\r\n  var biWidth4 = biWidth << 2;\r\n  var y = biHeight;\r\n  var fromCharCode = String.fromCharCode;\r\n\r\n  do {\r\n    var iOffsetY = biWidth4 * (y - 1);\r\n    var strPixelRow = '';\r\n    for (var x = 0; x < biWidth; x++) {\r\n      var iOffsetX = x << 2;\r\n      strPixelRow += fromCharCode(aImgData[iOffsetY + iOffsetX + 2]) +\r\n        fromCharCode(aImgData[iOffsetY + iOffsetX + 1]) +\r\n        fromCharCode(aImgData[iOffsetY + iOffsetX]);\r\n    }\r\n\r\n    for (var c = 0; c < iPadding; c++) {\r\n      strPixelRow += String.fromCharCode(0);\r\n    }\r\n\r\n    strPixelData += strPixelRow;\r\n  } while (--y)\r\n\r\n  var strEncoded = encodeData(BITMAPFILEHEADER.concat(BITMAPINFOHEADER)) + encodeData(strPixelData);\r\n\r\n  return strEncoded\r\n}\r\n\r\n/**\r\n * 转换为图片base64\r\n * @param canvasId canvas标识\r\n * @param x 将要被提取的图像数据矩形区域的左上角 x 坐标\r\n * @param y 将要被提取的图像数据矩形区域的左上角 y 坐标\r\n * @param width 将要被提取的图像数据矩形区域的宽度\r\n * @param height 将要被提取的图像数据矩形区域的高度\r\n * @param type 转换图片类型\r\n * @param done 完成回调\r\n */\r\nfunction convertToImage (canvasId, x, y, width, height, type, done) {\r\n  if ( done === void 0 ) done = function () {};\r\n\r\n  if (type === undefined) { type = 'png'; }\r\n  type = fixType(type);\r\n  if (/bmp/.test(type)) {\r\n    getImageData(canvasId, x, y, width, height, function (data) {\r\n      var strData = genBitmapImage(data);\r\n      tools_7(done) && done(makeURI(strData, 'image/' + type));\r\n    });\r\n  } else {\r\n    console.error('暂不支持生成\\'' + type + '\\'类型的base64图片');\r\n  }\r\n}\r\n\r\nvar CanvasToBase64 = {\r\n  convertToImage: convertToImage,\r\n  // convertToPNG: function (width, height, done) {\r\n  //   return convertToImage(width, height, 'png', done)\r\n  // },\r\n  // convertToJPEG: function (width, height, done) {\r\n  //   return convertToImage(width, height, 'jpeg', done)\r\n  // },\r\n  // convertToGIF: function (width, height, done) {\r\n  //   return convertToImage(width, height, 'gif', done)\r\n  // },\r\n  convertToBMP: function (ref, done) {\r\n    if ( ref === void 0 ) ref = {};\r\n    var canvasId = ref.canvasId;\r\n    var x = ref.x;\r\n    var y = ref.y;\r\n    var width = ref.width;\r\n    var height = ref.height;\r\n    if ( done === void 0 ) done = function () {};\r\n\r\n    return convertToImage(canvasId, x, y, width, height, 'bmp', done)\r\n  }\r\n};\r\n\r\nfunction methods () {\r\n  var self = this;\r\n\r\n  var boundWidth = self.width; // 裁剪框默认宽度，即整个画布宽度\r\n  var boundHeight = self.height; // 裁剪框默认高度，即整个画布高度\r\n\r\n  var id = self.id;\r\n  var targetId = self.targetId;\r\n  var pixelRatio = self.pixelRatio;\r\n\r\n  var ref = self.cut;\r\n  var x = ref.x; if ( x === void 0 ) x = 0;\r\n  var y = ref.y; if ( y === void 0 ) y = 0;\r\n  var width = ref.width; if ( width === void 0 ) width = boundWidth;\r\n  var height = ref.height; if ( height === void 0 ) height = boundHeight;\r\n\r\n  self.updateCanvas = function (done) {\r\n    if (self.croperTarget) {\r\n      //  画布绘制图片\r\n      self.ctx.drawImage(\r\n        self.croperTarget,\r\n        self.imgLeft,\r\n        self.imgTop,\r\n        self.scaleWidth,\r\n        self.scaleHeight\r\n      );\r\n    }\r\n    tools_7(self.onBeforeDraw) && self.onBeforeDraw(self.ctx, self);\r\n\r\n    self.setBoundStyle(self.boundStyle); //\t设置边界样式\r\n\r\n    self.ctx.draw(false, done);\r\n    return self\r\n  };\r\n\r\n  self.pushOrign = function (src) {\r\n    self.src = src;\r\n\r\n    tools_7(self.onBeforeImageLoad) && self.onBeforeImageLoad(self.ctx, self);\r\n\r\n    return getImageInfo({ src: src })\r\n      .then(function (res) {\r\n        var innerAspectRadio = res.width / res.height;\r\n        var customAspectRadio = width / height;\r\n\r\n        self.croperTarget = res.path;\r\n\r\n        if (innerAspectRadio < customAspectRadio) {\r\n          self.rectX = x;\r\n          self.baseWidth = width;\r\n          self.baseHeight = width / innerAspectRadio;\r\n          self.rectY = y - Math.abs((height - self.baseHeight) / 2);\r\n        } else {\r\n          self.rectY = y;\r\n          self.baseWidth = height * innerAspectRadio;\r\n          self.baseHeight = height;\r\n          self.rectX = x - Math.abs((width - self.baseWidth) / 2);\r\n        }\r\n\r\n        self.imgLeft = self.rectX;\r\n        self.imgTop = self.rectY;\r\n        self.scaleWidth = self.baseWidth;\r\n        self.scaleHeight = self.baseHeight;\r\n\r\n        self.update();\r\n\r\n        return new Promise(function (resolve) {\r\n          self.updateCanvas(resolve);\r\n        })\r\n      })\r\n      .then(function () {\r\n        tools_7(self.onImageLoad) && self.onImageLoad(self.ctx, self);\r\n      })\r\n  };\r\n\r\n  self.getCropperBase64 = function (done) {\r\n    if ( done === void 0 ) done = function () {};\r\n\r\n    CanvasToBase64.convertToBMP({\r\n      canvasId: id,\r\n      x: x,\r\n      y: y,\r\n      width: width,\r\n      height: height\r\n    }, done);\r\n  };\r\n\r\n  self.getCropperImage = function () {\r\n    var args = [], len = arguments.length;\r\n    while ( len-- ) args[ len ] = arguments[ len ];\r\n\r\n    var customOptions = args[0];\r\n    var fn = args[args.length - 1];\r\n\r\n    var canvasOptions = {\r\n      canvasId: id,\r\n      x: x,\r\n      y: y,\r\n      width: width,\r\n      height: height\r\n    };\r\n\r\n    var task = function () { return Promise.resolve(); };\r\n\r\n    if (\r\n      tools_10(customOptions) &&\r\n      customOptions.original\r\n    ) {\r\n      // original mode\r\n      task = function () {\r\n        self.targetCtx.drawImage(\r\n          self.croperTarget,\r\n          self.imgLeft * pixelRatio,\r\n          self.imgTop * pixelRatio,\r\n          self.scaleWidth * pixelRatio,\r\n          self.scaleHeight * pixelRatio\r\n        );\r\n\r\n        canvasOptions = {\r\n          canvasId: targetId,\r\n          x: x * pixelRatio,\r\n          y: y * pixelRatio,\r\n          width: width * pixelRatio,\r\n          height: height * pixelRatio\r\n        };\r\n\r\n        return draw(self.targetCtx)\r\n      };\r\n    }\r\n\r\n    return task()\r\n      .then(function () {\r\n        if (tools_10(customOptions)) {\r\n          canvasOptions = Object.assign({}, canvasOptions, customOptions);\r\n        }\r\n        return canvasToTempFilePath(canvasOptions)\r\n      })\r\n      .then(function (res) {\r\n        var tempFilePath = res.tempFilePath;\r\n\r\n        tools_7(fn) && fn.call(self, tempFilePath);\r\n        return tempFilePath\r\n      })\r\n      .catch(function () {\r\n        tools_7(fn) && fn.call(self, null);\r\n      })\r\n  };\r\n}\r\n\r\n/**\r\n * 获取最新缩放值\r\n * @param oldScale 上一次触摸结束后的缩放值\r\n * @param oldDistance 上一次触摸结束后的双指距离\r\n * @param zoom 缩放系数\r\n * @param touch0 第一指touch对象\r\n * @param touch1 第二指touch对象\r\n * @returns {*}\r\n */\r\nvar getNewScale = function (oldScale, oldDistance, zoom, touch0, touch1) {\r\n  var xMove, yMove, newDistance;\r\n  // 计算二指最新距离\r\n  xMove = Math.round(touch1.x - touch0.x);\r\n  yMove = Math.round(touch1.y - touch0.y);\r\n  newDistance = Math.round(Math.sqrt(xMove * xMove + yMove * yMove));\r\n\r\n  return oldScale + 0.001 * zoom * (newDistance - oldDistance)\r\n};\r\n\r\nfunction update () {\r\n  var self = this;\r\n\r\n  if (!self.src) { return }\r\n\r\n  self.__oneTouchStart = function (touch) {\r\n    self.touchX0 = Math.round(touch.x);\r\n    self.touchY0 = Math.round(touch.y);\r\n  };\r\n\r\n  self.__oneTouchMove = function (touch) {\r\n    var xMove, yMove;\r\n    // 计算单指移动的距离\r\n    if (self.touchended) {\r\n      return self.updateCanvas()\r\n    }\r\n    xMove = Math.round(touch.x - self.touchX0);\r\n    yMove = Math.round(touch.y - self.touchY0);\r\n\r\n    var imgLeft = Math.round(self.rectX + xMove);\r\n    var imgTop = Math.round(self.rectY + yMove);\r\n\r\n    self.outsideBound(imgLeft, imgTop);\r\n\r\n    self.updateCanvas();\r\n  };\r\n\r\n  self.__twoTouchStart = function (touch0, touch1) {\r\n    var xMove, yMove, oldDistance;\r\n\r\n    self.touchX1 = Math.round(self.rectX + self.scaleWidth / 2);\r\n    self.touchY1 = Math.round(self.rectY + self.scaleHeight / 2);\r\n\r\n    // 计算两指距离\r\n    xMove = Math.round(touch1.x - touch0.x);\r\n    yMove = Math.round(touch1.y - touch0.y);\r\n    oldDistance = Math.round(Math.sqrt(xMove * xMove + yMove * yMove));\r\n\r\n    self.oldDistance = oldDistance;\r\n  };\r\n\r\n  self.__twoTouchMove = function (touch0, touch1) {\r\n    var oldScale = self.oldScale;\r\n    var oldDistance = self.oldDistance;\r\n    var scale = self.scale;\r\n    var zoom = self.zoom;\r\n\r\n    self.newScale = getNewScale(oldScale, oldDistance, zoom, touch0, touch1);\r\n\r\n    //  设定缩放范围\r\n    self.newScale <= 1 && (self.newScale = 1);\r\n    self.newScale >= scale && (self.newScale = scale);\r\n\r\n    self.scaleWidth = Math.round(self.newScale * self.baseWidth);\r\n    self.scaleHeight = Math.round(self.newScale * self.baseHeight);\r\n    var imgLeft = Math.round(self.touchX1 - self.scaleWidth / 2);\r\n    var imgTop = Math.round(self.touchY1 - self.scaleHeight / 2);\r\n\r\n    self.outsideBound(imgLeft, imgTop);\r\n\r\n    self.updateCanvas();\r\n  };\r\n\r\n  self.__xtouchEnd = function () {\r\n    self.oldScale = self.newScale;\r\n    self.rectX = self.imgLeft;\r\n    self.rectY = self.imgTop;\r\n  };\r\n}\r\n\r\nvar handle = {\r\n  //  图片手势初始监测\r\n  touchStart: function touchStart (e) {\r\n    var self = this;\r\n    var ref = e.touches;\r\n    var touch0 = ref[0];\r\n    var touch1 = ref[1];\r\n\r\n    if (!self.src) { return }\r\n\r\n    setTouchState(self, true, null, null);\r\n\r\n    // 计算第一个触摸点的位置，并参照改点进行缩放\r\n    self.__oneTouchStart(touch0);\r\n\r\n    // 两指手势触发\r\n    if (e.touches.length >= 2) {\r\n      self.__twoTouchStart(touch0, touch1);\r\n    }\r\n  },\r\n\r\n  //  图片手势动态缩放\r\n  touchMove: function touchMove (e) {\r\n    var self = this;\r\n    var ref = e.touches;\r\n    var touch0 = ref[0];\r\n    var touch1 = ref[1];\r\n\r\n    if (!self.src) { return }\r\n\r\n    setTouchState(self, null, true);\r\n\r\n    // 单指手势时触发\r\n    if (e.touches.length === 1) {\r\n      self.__oneTouchMove(touch0);\r\n    }\r\n    // 两指手势触发\r\n    if (e.touches.length >= 2) {\r\n      self.__twoTouchMove(touch0, touch1);\r\n    }\r\n  },\r\n\r\n  touchEnd: function touchEnd (e) {\r\n    var self = this;\r\n\r\n    if (!self.src) { return }\r\n\r\n    setTouchState(self, false, false, true);\r\n    self.__xtouchEnd();\r\n  }\r\n};\r\n\r\nfunction cut () {\r\n  var self = this;\r\n  var boundWidth = self.width; // 裁剪框默认宽度，即整个画布宽度\r\n  var boundHeight = self.height;\r\n  // 裁剪框默认高度，即整个画布高度\r\n  var ref = self.cut;\r\n  var x = ref.x; if ( x === void 0 ) x = 0;\r\n  var y = ref.y; if ( y === void 0 ) y = 0;\r\n  var width = ref.width; if ( width === void 0 ) width = boundWidth;\r\n  var height = ref.height; if ( height === void 0 ) height = boundHeight;\r\n\r\n  /**\r\n\t * 设置边界\r\n\t * @param imgLeft 图片左上角横坐标值\r\n\t * @param imgTop 图片左上角纵坐标值\r\n\t */\r\n  self.outsideBound = function (imgLeft, imgTop) {\r\n    self.imgLeft = imgLeft >= x\r\n      ? x\r\n      : self.scaleWidth + imgLeft - x <= width\r\n        ? x + width - self.scaleWidth\r\n        :\timgLeft;\r\n\r\n    self.imgTop = imgTop >= y\r\n      ? y\r\n      : self.scaleHeight + imgTop - y <= height\r\n        ? y + height - self.scaleHeight\r\n        : imgTop;\r\n  };\r\n\r\n  /**\r\n\t * 设置边界样式\r\n\t * @param color\t边界颜色\r\n\t */\r\n  self.setBoundStyle = function (ref) {\r\n    if ( ref === void 0 ) ref = {};\r\n    var color = ref.color; if ( color === void 0 ) color = '#04b00f';\r\n    var mask = ref.mask; if ( mask === void 0 ) mask = 'rgba(0, 0, 0, 0.3)';\r\n    var lineWidth = ref.lineWidth; if ( lineWidth === void 0 ) lineWidth = 1;\r\n\r\n    var boundOption = [\r\n      {\r\n        start: { x: x - lineWidth, y: y + 10 - lineWidth },\r\n        step1: { x: x - lineWidth, y: y - lineWidth },\r\n        step2: { x: x + 10 - lineWidth, y: y - lineWidth }\r\n      },\r\n      {\r\n        start: { x: x - lineWidth, y: y + height - 10 + lineWidth },\r\n        step1: { x: x - lineWidth, y: y + height + lineWidth },\r\n        step2: { x: x + 10 - lineWidth, y: y + height + lineWidth }\r\n      },\r\n      {\r\n        start: { x: x + width - 10 + lineWidth, y: y - lineWidth },\r\n        step1: { x: x + width + lineWidth, y: y - lineWidth },\r\n        step2: { x: x + width + lineWidth, y: y + 10 - lineWidth }\r\n      },\r\n      {\r\n        start: { x: x + width + lineWidth, y: y + height - 10 + lineWidth },\r\n        step1: { x: x + width + lineWidth, y: y + height + lineWidth },\r\n        step2: { x: x + width - 10 + lineWidth, y: y + height + lineWidth }\r\n      }\r\n    ];\r\n\r\n    // 绘制半透明层\r\n    self.ctx.beginPath();\r\n    self.ctx.setFillStyle(mask);\r\n    self.ctx.fillRect(0, 0, x, boundHeight);\r\n    self.ctx.fillRect(x, 0, width, y);\r\n    self.ctx.fillRect(x, y + height, width, boundHeight - y - height);\r\n    self.ctx.fillRect(x + width, 0, boundWidth - x - width, boundHeight);\r\n    self.ctx.fill();\r\n\r\n    boundOption.forEach(function (op) {\r\n      self.ctx.beginPath();\r\n      self.ctx.setStrokeStyle(color);\r\n      self.ctx.setLineWidth(lineWidth);\r\n      self.ctx.moveTo(op.start.x, op.start.y);\r\n      self.ctx.lineTo(op.step1.x, op.step1.y);\r\n      self.ctx.lineTo(op.step2.x, op.step2.y);\r\n      self.ctx.stroke();\r\n    });\r\n  };\r\n}\r\n\r\nvar version = \"1.3.3\";\r\n\r\nvar WeCropper = function WeCropper (params) {\r\n  var self = this;\r\n  var _default = {};\r\n\r\n  validator(self, DEFAULT);\r\n\r\n  Object.keys(DEFAULT).forEach(function (key) {\r\n    _default[key] = DEFAULT[key].default;\r\n  });\r\n  Object.assign(self, _default, params);\r\n\r\n  self.prepare();\r\n  self.attachPage();\r\n  self.createCtx();\r\n  self.observer();\r\n  self.cutt();\r\n  self.methods();\r\n  self.init();\r\n  self.update();\r\n\r\n  return self\r\n};\r\n\r\nWeCropper.prototype.init = function init () {\r\n  var self = this;\r\n  var src = self.src;\r\n\r\n  self.version = version;\r\n\r\n  typeof self.onReady === 'function' && self.onReady(self.ctx, self);\r\n\r\n  if (src) {\r\n    self.pushOrign(src);\r\n  } else {\r\n    self.updateCanvas();\r\n  }\r\n  setTouchState(self, false, false, false);\r\n\r\n  self.oldScale = 1;\r\n  self.newScale = 1;\r\n\r\n  return self\r\n};\r\n\r\nObject.assign(WeCropper.prototype, handle);\r\n\r\nWeCropper.prototype.prepare = prepare;\r\nWeCropper.prototype.observer = observer;\r\nWeCropper.prototype.methods = methods;\r\nWeCropper.prototype.cutt = cut;\r\nWeCropper.prototype.update = update;\r\n\r\nreturn WeCropper;\r\n\r\n})));\r\n","import { render, staticRenderFns } from \"./cutInside.vue?vue&type=template&id=761d3308&\"\nimport script from \"./cutInside.vue?vue&type=script&lang=js&\"\nexport * from \"./cutInside.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cutInside.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('761d3308', component.options)\n    } else {\n      api.reload('761d3308', component.options)\n    }\n    module.hot.accept(\"./cutInside.vue?vue&type=template&id=761d3308&\", function () {\n      api.rerender('761d3308', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"GitProject/mixtural/pages/lottery/cutInside.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cutInside.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cutInside.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cutInside.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cutInside.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./cutInside.vue?vue&type=template&id=761d3308&\"","\n\n\n\n\n\n\n\n\n\n\n\n\nimport WeCropper from 'we-cropper'\n\nlet _wecropper\n\nexport default {\n  name: 'mpvue-cropper',\n  props: {\n    option: {\n      type: Object\n    }\n  },\n  computed: {\n    _canvasId () {\n      return this.option.id\n    },\n    _width () {\n      return this.option.width\n    },\n    _height () {\n      return this.option.height\n    }\n  },\n  methods: {\n    touchstart ($event) {\n      _wecropper.touchStart($event.mp)\n    },\n    touchmove ($event) {\n      _wecropper.touchMove($event.mp)\n    },\n    touchend ($event) {\n      _wecropper.touchEnd($event.mp)\n    },\n    pushOrigin (src) {\n      _wecropper.pushOrign(src)\n    },\n    updateCanvas () {\n      _wecropper.updateCanvas()\n    },\n    getCropperBase64 () {\n      return new Promise((resolve, reject) => {\n        _wecropper.getCropperImage(src => {\n          src ? resolve(src) : reject()\n        })\n      })\n    },\n    getCropperImage () {\n      return new Promise((resolve, reject) => {\n        _wecropper.getCropperImage(src => {\n          src ? resolve(src) : reject()\n        })\n      })\n    },\n    init () {\n      _wecropper = new WeCropper(Object.assign(this.option, {\n        id: this._canvasId\n      }))\n      .on('ready', (...args) => {\n        this.$emit('ready', ...args)\n      })\n      .on('beforeImageLoad', (...args) => {\n        this.$emit('beforeImageLoad', ...args)\n      })\n      .on('imageLoad', (...args) => {\n        this.$emit('imageLoad', ...args)\n      })\n      .on('beforeDraw', (...args) => {\n        this.$emit('beforeDraw', ...args)\n      })\n      .updateCanvas()\n    }\n  },\n  onLoad () {\n    if (!this.option) {\n      return console.warn('[mpvue-cropper] 请传入option参数\\n参数配置见文档：https://we-plugin.github.io/we-cropper/#/api')\n    }\n    this.init()\n  }\n}\n","\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport MpvueCropper from 'mpvue-cropper'\r\nimport is from 'is';\r\nimport Utils from '@/utils/index';\r\nimport api from '@/utils/api';\r\nlet key = 'ECSBZ-DYVKU-ZMEVX-4UQSY-C35FJ-FJF3G';\r\nimport mixin from '@/utils/mixin';\r\nimport Footer from '@/components/footer.vue';\r\nimport Loading from '@/components/loading.vue';\r\nlet wecropper;\r\nvar sysInfo = wx.getSystemInfoSync();\r\nvar width = sysInfo.windowWidth;\r\nvar height = sysInfo.windowHeight - 120;\r\nvar middle = height - width / 2;\r\n\r\nexport default {\r\n    mixins: [mixin],\r\n    data() {\r\n        return {\r\n            type: '',\r\n            src: '',\r\n            cropperOpt: {\r\n                id: 'cropper',\r\n                width: width,\r\n                height: height,\r\n                scale: 2.5,\r\n                zoom: 8,\r\n                cut: {\r\n                    x: (width - width) / 2,\r\n                    y: middle / 2,\r\n                    width: width,\r\n                    height: width / 2\r\n                }\r\n            }\r\n        }\r\n    },\r\n    components: {\r\n        'v-cropper': MpvueCropper\r\n    },\r\n    methods: {\r\n        cropperReady(...args) {\r\n            console.log('cropper ready!')\r\n        },\r\n        cropperBeforeImageLoad(...args) {\r\n            console.log('before image load')\r\n        },\r\n        cropperLoad(...args) {\r\n            console.log('image loaded')\r\n        },\r\n        cropperBeforeDraw(...args) {\r\n            // Todo: 绘制水印等等\r\n        },\r\n        getCropperImage() {\r\n            let _this = this;\r\n            wecropper.getCropperImage()\r\n                .then(async(image_data) => {\r\n                    console.log(image_data);\r\n                    Utils.loading('正在裁剪…');\r\n                    let result = await Utils.uploader(image_data);\r\n                    Utils.loaded();\r\n                    console.log(result);\r\n                    if (result.status == 1) {\r\n                        let publish = JSON.parse(JSON.stringify(_this.publish));\r\n                        _this.$set(publish, _this.type, result.data.url);\r\n                        _this.$store.commit('set_publish', publish);\r\n                        //保存图片\r\n                        wx.navigateBack({\r\n                            delta: 0\r\n                        });\r\n                    } else {\r\n                        Utils.toast(res.message);\r\n                    }\r\n                })\r\n                .catch(e => {\r\n                    console.log(e)\r\n                    Utils.toast('获取图片失败')\r\n                })\r\n        }\r\n    },\r\n    onShow() {\r\n        let _this = this;\r\n        console.log('onLoad');\r\n        if (!_this.shouldLogin) {\r\n            console.log('init');\r\n            wecropper = _this.$refs.cropper;\r\n            _this.type = _this.$root.$mp.query.type;\r\n            _this.src = _this.$root.$mp.query.src;\r\n            wecropper.pushOrigin(_this.src)\r\n        }\r\n    },\r\n}\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _vm._canvasId\n    ? _c(\"canvas\", {\n        style: {\n          width: _vm._width + \"px\",\n          height: _vm._height + \"px\",\n          background: \"rgba(0, 0, 0, .8)\"\n        },\n        attrs: {\n          canvasId: _vm._canvasId,\n          \"disable-scroll\": \"\",\n          eventid: \"630a9ae4-0\"\n        },\n        on: {\n          touchstart: _vm.touchstart,\n          touchmove: _vm.touchmove,\n          touchend: _vm.touchend\n        }\n      })\n    : _vm._e()\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"cropper-wrapper\" },\n    [\n      _c(\"v-cropper\", {\n        ref: \"cropper\",\n        attrs: {\n          option: _vm.cropperOpt,\n          eventid: \"76d6539e-0\",\n          mpcomid: \"76d6539e-0\"\n        },\n        on: {\n          ready: _vm.cropperReady,\n          beforeDraw: _vm.cropperBeforeDraw,\n          beforeImageLoad: _vm.cropperBeforeImageLoad,\n          beforeLoad: _vm.cropperLoad\n        }\n      }),\n      _c(\"view\", { staticClass: \"cropper-buttons\" }, [\n        _c(\"view\", { staticClass: \"cropper_txt\" }, [\n          _vm._v(\"剪裁后图片尺寸为 900*450px\")\n        ]),\n        _c(\n          \"view\",\n          {\n            staticClass: \"getCropperImage\",\n            attrs: { eventid: \"76d6539e-1\" },\n            on: { tap: _vm.getCropperImage }\n          },\n          [_vm._v(\"完成\")]\n        )\n      ])\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}